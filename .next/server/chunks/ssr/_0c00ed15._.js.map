{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 36, "column": 0}, "map": {"version":3,"sources":["file://C%3A/projects/devstore/src/env.ts"],"sourcesContent":["import { z } from \"zod\";\r\n\r\nconst envSchema = z.object({\r\n  NEXT_PUBLIC_API_BASE_URL: z.string().url(),\r\n  APP_URL: z.string().url(),\r\n});\r\n\r\nconst parsedEnv = envSchema.safeParse(process.env);\r\n\r\nif (!parsedEnv.success) {\r\n  console.error(\r\n    \"Invalid environment variables\",\r\n    parsedEnv.error.flatten().fieldErrors\r\n  );\r\n\r\n  throw new Error(\"Invalid environment variables\");\r\n}\r\n\r\nexport const env = parsedEnv.data;"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,YAAY,oIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACzB,0BAA0B,oIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG;IACxC,SAAS,oIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG;AACzB;AAEA,MAAM,YAAY,UAAU,SAAS,CAAC,QAAQ,GAAG;AAEjD,IAAI,CAAC,UAAU,OAAO,EAAE;IACtB,QAAQ,KAAK,CACX,iCACA,UAAU,KAAK,CAAC,OAAO,GAAG,WAAW;IAGvC,MAAM,IAAI,MAAM;AAClB;AAEO,MAAM,MAAM,UAAU,IAAI","debugId":null}},
    {"offset": {"line": 57, "column": 0}, "map": {"version":3,"sources":["file://C%3A/projects/devstore/src/data/api.ts"],"sourcesContent":["import { env } from \"@/env\";\r\n\r\nexport function api(path: string, init?: RequestInit) {\r\n  const baseUrl = env.NEXT_PUBLIC_API_BASE_URL;\r\n  \r\n  const url = new URL(`/api/${path}`, baseUrl);\r\n\r\n  return fetch(url, init);\r\n}\r\n\r\n"],"names":[],"mappings":";;;AAAA;;AAEO,SAAS,IAAI,IAAY,EAAE,IAAkB;IAClD,MAAM,UAAU,0GAAA,CAAA,MAAG,CAAC,wBAAwB;IAE5C,MAAM,MAAM,IAAI,IAAI,CAAC,KAAK,EAAE,MAAM,EAAE;IAEpC,OAAO,MAAM,KAAK;AACpB","debugId":null}},
    {"offset": {"line": 73, "column": 0}, "map": {"version":3,"sources":["file://C%3A/projects/devstore/src/app/%28store%29/search/page.tsx"],"sourcesContent":["import Link from \"next/link\";\r\nimport Image from \"next/image\";\r\nimport { redirect } from \"next/navigation\";\r\nimport { Product } from \"@/data/types/product\";\r\nimport { api } from \"@/data/api\";\r\n\r\ninterface SearchProps {\r\n  searchParams: {\r\n    q: string;\r\n  };\r\n}\r\n\r\nasync function searchProducts(query: string): Promise<Product[]> {\r\n  const response = await api(`/products/search?q=${query}`, {\r\n    next: {\r\n      // controle de cache. A cada 1 hora, a página é revalidada\r\n      revalidate: 60 * 60, // 1 hour\r\n    },\r\n  });\r\n\r\n  const products = await response.json();\r\n  return products;\r\n}\r\n\r\nexport default async function Search({ searchParams }: SearchProps) {\r\n  const { q: query } = searchParams;\r\n\r\n  if (!query) {\r\n    redirect(\"/\");\r\n  }\r\n\r\n  const products = await searchProducts(query);\r\n\r\n  return (\r\n    <div className=\"flex flex-col gap-4\">\r\n      <p className=\"text-sm\">\r\n        Resultados para: <span className=\"font-bold\">{query}</span>\r\n      </p>\r\n\r\n      <div className=\"grid grid-cols-3 gap-6\">\r\n        {products.map((product) => {\r\n          return (\r\n            <Link\r\n              key={product.id}\r\n              href={`/product/${product.slug}`}\r\n              className=\"group relative rounded-lg bg-zinc-900 overflow-hidden flex justify-center items-end\"\r\n            >\r\n              <Image\r\n                className=\"group-hover:scale-105 transition-transform duration-500\"\r\n                src={product.image}\r\n                width={480}\r\n                height={480}\r\n                quality={100}\r\n                alt=\"moletom\"\r\n              />\r\n\r\n              <div className=\"absolute bottom-10 right-10 h-12 flex items-center gap-2 max-w-[280px] rounded-full border-2 border-zinc-500 bg-black/60 p-1 pl-5\">\r\n                <span className=\"text-sm truncate\">\r\n                  {product.title}\r\n                </span>\r\n                <span className=\"flex h-full items-center justify-center rounded-full bg-violet-500 px-4 font-semibold\">\r\n                  {product.price.toLocaleString(\"pt-BR\", {\r\n                    style: \"currency\",\r\n                    currency: \"BRL\",\r\n                    minimumFractionDigits: 2,\r\n                    maximumFractionDigits: 2,\r\n                  })}\r\n                </span>\r\n              </div>\r\n            </Link>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AAAA;AAEA;;;;;;AAQA,eAAe,eAAe,KAAa;IACzC,MAAM,WAAW,MAAM,CAAA,GAAA,kHAAA,CAAA,MAAG,AAAD,EAAE,CAAC,mBAAmB,EAAE,OAAO,EAAE;QACxD,MAAM;YACJ,0DAA0D;YAC1D,YAAY,KAAK;QACnB;IACF;IAEA,MAAM,WAAW,MAAM,SAAS,IAAI;IACpC,OAAO;AACT;AAEe,eAAe,OAAO,EAAE,YAAY,EAAe;IAChE,MAAM,EAAE,GAAG,KAAK,EAAE,GAAG;IAErB,IAAI,CAAC,OAAO;QACV,CAAA,GAAA,qLAAA,CAAA,WAAQ,AAAD,EAAE;IACX;IAEA,MAAM,WAAW,MAAM,eAAe;IAEtC,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAE,WAAU;;oBAAU;kCACJ,8OAAC;wBAAK,WAAU;kCAAa;;;;;;;;;;;;0BAGhD,8OAAC;gBAAI,WAAU;0BACZ,SAAS,GAAG,CAAC,CAAC;oBACb,qBACE,8OAAC,4JAAA,CAAA,UAAI;wBAEH,MAAM,CAAC,SAAS,EAAE,QAAQ,IAAI,EAAE;wBAChC,WAAU;;0CAEV,8OAAC,6HAAA,CAAA,UAAK;gCACJ,WAAU;gCACV,KAAK,QAAQ,KAAK;gCAClB,OAAO;gCACP,QAAQ;gCACR,SAAS;gCACT,KAAI;;;;;;0CAGN,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAK,WAAU;kDACb,QAAQ,KAAK;;;;;;kDAEhB,8OAAC;wCAAK,WAAU;kDACb,QAAQ,KAAK,CAAC,cAAc,CAAC,SAAS;4CACrC,OAAO;4CACP,UAAU;4CACV,uBAAuB;4CACvB,uBAAuB;wCACzB;;;;;;;;;;;;;uBAvBC,QAAQ,EAAE;;;;;gBA4BrB;;;;;;;;;;;;AAIR","debugId":null}}]
}